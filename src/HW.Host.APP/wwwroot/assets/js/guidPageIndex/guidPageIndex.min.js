/* * 引导页 JS文件 * Author：Mr.Fang * QQ：2875616188 * Version：1.1.0 * WebSite：https://fanghua.host * Time：2020.3.27 */
var backGroundImageData, copywritingInfoData, guidePagesMenuInfoData, backGroundImageMaxIndexOf = 100, backGroundImageMinIndexOf = 0; function getBackGroundImageInfo() { httpRequest({ method: "GET", url: "BackGroundImageInfoService/GetAllBackGroundImageInfo" }, function (n) { backGroundImageData = n }) } function getCopywritingInfo() { httpRequest({ method: "GET", url: "CopywritingInfoService/GetAllCopywritingInfo" }, function (n) { copywritingInfoData = n, dynamicChangeCopywritingInfo() }) } function getGuidePagesMenuInfo() { httpRequest({ method: "GET", url: "GuidePagesMenuInfoService/GetAllGuidePagesMenuInfo" }, function (n) { guidePagesMenuInfoData = n; for (var e = 0; e < guidePagesMenuInfoData.length; e++)$("#webSiteGuidePagesMenuInfo").append('<li><a href="' + guidePagesMenuInfoData[e].menuUrl + '" title="' + guidePagesMenuInfoData[e].menuName + '">' + guidePagesMenuInfoData[e].menuName + "</a></li>") }) } function dynamicChangeBackGroundImage() { $("#bg").fadeOut(3e3, function () { $("#bg").css("background-image", "url('" + backGroundImageData[getRandom(backGroundImageMaxIndexOf, backGroundImageMinIndexOf)].bgUrl + "')").fadeIn(3e3) }), setTimeout(dynamicChangeBackGroundImage, 1e3 * 3600) } function dynamicChangeCopywritingInfo() { $("#webSiteCopywriting")[0].innerText = copywritingInfoData[getRandom(copywritingInfoData.length, 0)].content, setTimeout(dynamicChangeCopywritingInfo, 1e3 * 60) } WaitJSLoadSuccess(function () { $("#webSiteName")[0].innerText = appConfiguration.ProjectInfo.Project_Name, getBackGroundImageInfo(), getCopywritingInfo(), dynamicChangeBackGroundImage() }, !0), window.ontouchmove = function () { return !1 }, window.onorientationchange = function () { document.body.scrollTop = 0 };